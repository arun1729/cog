<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
<style>
			body {
				font-family: helvetica;
				font-size: 14px;
			}

			#gcontainer {
				width: 100%;
				height: 100%;
				position: absolute;
				left: 0;
				top: 0;
				z-index: 999;
			}

			h1 {
				opacity: 0.5;
				font-size: 1em;
			}
		</style>
<script src="https://unpkg.com/cytoscape/dist/cytoscape.min.js"></script>
<script src="https://unpkg.com/webcola/WebCola/cola.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/cytoscape-cola@2.4.0/cytoscape-cola.min.js"></script>
    <script>
<!--https://cytoscape.org/cytoscape.js-cola/-->
<!--https://cytoscape.org/cytoscape.js-tutorial-demo/-->
document.addEventListener('DOMContentLoaded', function(){

    results = [{"id": "Harry Potter and the Half-Blood Prince (Harry Potter, #6)", "source": "J.K. Rowling, Mary GrandPr\\u00e9", "target": "Harry Potter and the Half-Blood Prince (Harry Potter, #6)"}, {"id": "Harry Potter and the Deathly Hallows (Harry Potter, #7)", "source": "J.K. Rowling, Mary GrandPr\\u00e9", "target": "Harry Potter and the Deathly Hallows (Harry Potter, #7)"}, {"id": "Harry Potter and the Goblet of Fire (Harry Potter, #4)", "source": "J.K. Rowling, Mary GrandPr\\u00e9", "target": "Harry Potter and the Goblet of Fire (Harry Potter, #4)"}, {"id": "Harry Potter and the Chamber of Secrets (Harry Potter, #2)", "source": "J.K. Rowling, Mary GrandPr\\u00e9", "target": "Harry Potter and the Chamber of Secrets (Harry Potter, #2)"}, {"id": "Harry Potter and the Order of the Phoenix (Harry Potter, #5)", "source": "J.K. Rowling, Mary GrandPr\\u00e9", "target": "Harry Potter and the Order of the Phoenix (Harry Potter, #5)"}, {"id": "Harry Potter and the Sorcerer\'s Stone (Harry Potter, #1)", "source": "J.K. Rowling, Mary GrandPr\\u00e9", "target": "Harry Potter and the Sorcerer\'s Stone (Harry Potter, #1)"}, {"id": "4.54", "source": "J.K. Rowling, Mary GrandPr\\u00e9", "target": "4.54"}, {"id": "4.61", "source": "J.K. Rowling, Mary GrandPr\\u00e9", "target": "4.61"}, {"id": "4.53", "source": "J.K. Rowling, Mary GrandPr\\u00e9", "target": "4.53"}, {"id": "4.37", "source": "J.K. Rowling, Mary GrandPr\\u00e9", "target": "4.37"}, {"id": "4.46", "source": "J.K. Rowling, Mary GrandPr\\u00e9", "target": "4.46"}, {"id": "4.44", "source": "J.K. Rowling, Mary GrandPr\\u00e9", "target": "4.44"}]
var nodeMap = {}
  var g = {
    nodes: [],
    edges: []
  }

for (var i = 0; i < results.length; i++) {
    result = results[i];
    source = result["source"]
    target = result["target"]
    var source_color
    var target_color
    if (result["source_color"] != undefined) {
      source_color = result["source_color"]
    } else {
      // source_color = "#2c3e50"
      source_color = "#001B8A"
    }
    if (result["target_color"] != undefined) {
      target_color = result["target_color"]
    } else {
      target_color = "#F09300"
    }
    if (nodeMap[source] !== true) {
      var data = {
        id: source,
        label : source
        }
      if (result["source_label"] != undefined) {
        data.label = result["source_label"]
      } else {
        data.label = source
      }
      g.nodes.push({'data' : data})
      nodeMap[source] = true
    }
    if (nodeMap[target] !== true) {
      var data = {
        id: target
        }
      if (result["target_label"] != undefined) {
        data.label = result["target_label"]
      } else {
        data.label = target
      }
      g.nodes.push({'data' : data})
      nodeMap[target] = true
    }
    g.edges.push({'data' : {
      source: source,
      target: target
    }
    })

  }
console.log(g);
    	var cy = window.cy = cytoscape({
					container: document.getElementById('gcontainer'),

					autounselectify: true,

					boxSelectionEnabled: false,

					layout: {
						name: 'cola'
					},

					style: [
						{
							selector: 'node',
							css: {
								'background-color': '#f92411'
							}
						},

						{
							selector: 'edge',
							css: {
								'line-color': '#f92411'
							}
						}
					],

					elements: g
    });
});
    </script>
</head>
<body>
<div id="gcontainer"></div>

</body>
</html>